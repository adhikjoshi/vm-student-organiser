<?xml version="1.0" encoding="utf-8"?>

<!--
File:			organiser.mxml
Date:			07.01.2011
Author:			Joshua Lau
Description:	Main file which controls layout of the application and includes script files.
-->

<mx:WindowedApplication xmlns:mx="http://www.adobe.com/2006/mxml" 
	layout="absolute" 
	windowComplete="readAll();" 
	closing="writeAll();" 
	horizontalScrollPolicy="off" 
	verticalScrollPolicy="off" 
	showStatusBar="false">

<mx:Script>
	<![CDATA[
		include "sharedLibrary.as"
		include "handleSubjects.as"
		include "handleNotes.as"
		include "control.as"
		include "clock.as"
		include "prefs.as"
		include "subjectListing.as"
	]]>
</mx:Script>

<mx:Style source="../fonts/embeddedFonts.css" />

<!-- Background Image (grad fill) -->
<mx:Image id="backgroundImage" source="@Embed(source='../assets/background.png')" />

<mx:Canvas x="47" y="25">
	<!-- top bar images -->
	<mx:Image id="topTopBarImg" source="@Embed(source='../assets/topbar1.png')" />
	<mx:Image id="bottomTopBarImg" source="@Embed(source='../assets/topbar2.png')" x="40" y="55" />
	
	<mx:Label id="headerLabel" fontFamily="MyriadPro" fontSize="20" x="10" y="10" color="white" />
	<mx:Label id="userInfoLabel" fontFamily="MyriadPro" fontSize="16" x="50" y="62" color="white" />
</mx:Canvas>

<mx:VBox id="contentArea"
	x="300" y="150"
	horizontalScrollPolicy="off"
	verticalScrollPolicy="off">

	<mx:TabNavigator id="contentStack"
		x="300" y="150"
		width="610" height="415"
		selectedIndex="2"
		creationPolicy="all">
		
		<mx:Canvas label="Diary">
			<mx:DateField id="dateSelector" x="10" width="100" editable="true" formatString="DD/MM/YYYY" change="useDate(event);"/>
			<mx:DataGrid id="diaryEntries"
				x="10" y="25"
				dataProvider="{curDayTasks.period}" 
				editable="true"
				rowCount="8"
				itemEditEnd="writeDayTasks();">
					
				<mx:columns>
					<mx:DataGridColumn dataField="subject" editable="false" headerText="Subject" width="100" />
					<mx:DataGridColumn dataField="tasks" editable="true" headerText="Tasks" width="475" />
				</mx:columns>
			</mx:DataGrid>
		</mx:Canvas>
	
		<mx:Canvas label="Notes">
			<mx:Label x="10" width="100%" color="black" text="Type random notes, thoughts or anything else in this autosaving box." />
			<mx:TextArea id="notesArea"
				x="10" y="20"
				width="500" height="200"
				verticalScrollPolicy="auto"
				text="" />
		</mx:Canvas>
		
		<mx:Canvas label="Preferences">
			<mx:Form id="userDetails" borderStyle="solid" x="10" y="0">
				<mx:HBox>
					<mx:FormItem label="Name">
						<mx:TextInput id="userNameField" />
					</mx:FormItem>

					<mx:FormItem>
						<mx:ComboBox id="classField" dataProvider="{classList}" />
					</mx:FormItem>
				</mx:HBox>
				
				<mx:FormItem>
					<mx:Button id="saveNamePrefsButton" label="Save" click="saveUserDetails();" />
				</mx:FormItem>
			</mx:Form>
			
			<mx:DataGrid id="subjectChooser" 
				x="10" y="100"
				dataProvider="{curDisplayList}"
				editable="true"
				rowCount="10"
				verticalScrollPolicy="off">
				<mx:columns>
					<mx:DataGridColumn dataField="periodName" headerText="" width="20" />
					<mx:DataGridColumn dataField="day0" headerText="Mon A" width="55" />
					<mx:DataGridColumn dataField="day1" headerText="Tue A" width="55" />
					<mx:DataGridColumn dataField="day2" headerText="Wed A" width="55" />
					<mx:DataGridColumn dataField="day3" headerText="Thu A" width="55" />
					<mx:DataGridColumn dataField="day4" headerText="Fri A" width="55" />
					<mx:DataGridColumn dataField="day5" headerText="Mon B" width="55" />
					<mx:DataGridColumn dataField="day6" headerText="Tue B" width="55" />
					<mx:DataGridColumn dataField="day7" headerText="Wed B" width="55" />
					<mx:DataGridColumn dataField="day8" headerText="Thu B" width="55" />
					<mx:DataGridColumn dataField="day9" headerText="Fri B" width="55" />
				</mx:columns>
			</mx:DataGrid>
		</mx:Canvas>
		
	</mx:TabNavigator>
</mx:VBox>
	
</mx:WindowedApplication>
